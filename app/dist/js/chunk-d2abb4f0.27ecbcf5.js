(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2abb4f0"],{"0da6":function(e,t,i){},2532:function(e,t,i){"use strict";var c=i("23e7"),n=i("5a34"),a=i("1d80"),s=i("577e"),o=i("ab13");c({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~s(a(this)).indexOf(s(n(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,i){var c=i("861d"),n=i("c6b6"),a=i("b622"),s=a("match");e.exports=function(e){var t;return c(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},"469a":function(e,t,i){"use strict";i("0da6")},"5a34":function(e,t,i){var c=i("44e7");e.exports=function(e){if(c(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,i){var c=i("b622"),n=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,"/./"[e](t)}catch(c){}}return!1}},caad:function(e,t,i){"use strict";var c=i("23e7"),n=i("4d64").includes,a=i("44d2");c({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d8bc:function(e,t,i){"use strict";i("f2d9")},dac5:function(e,t,i){"use strict";function c(e){var t=[["grade1","Morning grade"],["grade3","Azure grade"],["grade2","Gold grade"],["grade4","Rise grade"],["grade5","Pacific grade"]];return e<10?t[0]:e>=10&&e<30?t[1]:e>=30&&e<60?t[2]:e>=60&&e<120?t[3]:e>=120?t[4]:void 0}i.d(t,"a",(function(){return c}))},f2d9:function(e,t,i){},fc02:function(e,t,i){"use strict";i.r(t);i("b0c0"),i("caad"),i("2532");var c=i("7a23"),n=i("8238"),a=i.n(n);Object(c["B"])("data-v-cb208674");var s={class:"container dash"},o={class:"main"},r={class:"flex justify-between"},l=Object(c["i"])("p",{class:"pr4"},"Create your custom badges to track your daily progress",-1),b=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:"/assets/badges/default/add.svg",alt:"Add new"})],-1),d=Object(c["i"])("figcaption",{class:"xs-hide"},"Create new",-1),u=[b,d],O={key:0,class:"flex wrap justify-between mt4"},j={class:"habit mdd-d-flex"},h={class:"frame"},g=["src","alt"],m={class:"icon"},f=["src","alt"],v={class:"badge-grade mt2 text-center"},p={class:"lgu-hide"},y={class:"badgeEditControls first"},k=["onClick"],x=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:"/assets/badges/default/edit.svg",alt:"Edit"})],-1),w=[x],C=Object(c["l"])(" Edit "),I=["onClick"],S=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:a.a,alt:"Delete"})],-1),N=[S],L=Object(c["l"])(" Archive "),B={class:"timeline"},D={class:"flex justify-between align-bottom"},T={class:"mdd-hide"},R={class:"badgeEditControls second"},H=["onClick"],K=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:"/assets/badges/default/edit.svg",alt:"Edit"})],-1),M=[K],_=Object(c["l"])(" Edit "),E=["onClick"],F=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:a.a,alt:"Delete"})],-1),$=[F],A=Object(c["l"])(" Archive "),G={class:"tablechart"},J={key:1,class:"empty"},P={key:1,class:"empty"},V={key:1},U=Object(c["l"])("No habits created. "),z={key:0,class:"delDialog overlay"},W={key:0,class:"container"},q=Object(c["i"])("div",null,[Object(c["i"])("h1",null,"Are you sure you wish to archive this badge?"),Object(c["i"])("p",null,"Any previous entries in the daily calendar will still be visible.")],-1),Q={class:"controls"},X=["disabled"],Y=Object(c["l"])(),Z={else:""},ee=Object(c["i"])("h1",null,"The selected badge has been archived.",-1),te={class:"controls"};function ie(e,t,i,n,a,b){var d=Object(c["G"])("w-tooltip"),x=Object(c["G"])("pulse-loader"),S=Object(c["G"])("BadgeCreator");return Object(c["y"])(),Object(c["h"])("div",null,[Object(c["i"])("div",s,[Object(c["i"])("div",o,[Object(c["i"])("h1",null,"This are your habits "+Object(c["K"])(e.user.name),1),Object(c["i"])("div",r,[l,Object(c["i"])("button",{class:"button button-add",onClick:t[0]||(t[0]=function(e){return a.badgeCreator=!0})},u)]),e.user&&n.userHabits.length?(Object(c["y"])(),Object(c["h"])("div",O,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["E"])(n.userHabits,(function(t){return Object(c["y"])(),Object(c["h"])("div",{class:"habit-row box flex",key:t._id},[Object(c["i"])("div",j,[Object(c["i"])("div",{class:Object(c["t"])(["badge",n.gradeByCount(t.count)[0]])},[Object(c["i"])("figure",null,[Object(c["i"])("div",h,[Object(c["i"])("img",{src:"/assets/badges/frame/frame"+t.frame+".svg",alt:t.name},null,8,g)]),Object(c["i"])("div",m,[Object(c["i"])("img",{crossOrigin:"anonymous",id:"badgeIcon",src:t.image,alt:t.icon},null,8,f)])])],2),Object(c["i"])("div",v,[Object(c["i"])("h2",p,Object(c["K"])(t.name),1),Object(c["i"])("h3",null,Object(c["K"])(n.gradeByCount(t.count)[1]),1),Object(c["i"])("p",null,"Done "+Object(c["K"])(t.count)+" times",1)]),Object(c["i"])("div",y,[Object(c["m"])(d,{top:"",color:"white","bg-color":"grey-dark5"},{activator:Object(c["R"])((function(e){var i=e.on;return[Object(c["i"])("button",Object(c["r"])(Object(c["L"])(i),{class:"edit",onClick:function(e){return b.editHabit(t)},type:"button"}),w,16,k)]})),default:Object(c["R"])((function(){return[C]})),_:2},1024),Object(c["m"])(d,{top:"",color:"white","bg-color":"grey-dark5"},{activator:Object(c["R"])((function(e){var i=e.on;return[Object(c["i"])("button",Object(c["r"])(Object(c["L"])(i),{class:"del",type:"button",onClick:function(e){a.delDialog=!0,a.delHabit=t}}),N,16,I)]})),default:Object(c["R"])((function(){return[L]})),_:2},1024)])]),Object(c["i"])("div",B,[Object(c["i"])("div",D,[Object(c["i"])("h2",T,Object(c["K"])(t.name),1),Object(c["i"])("div",R,[Object(c["m"])(d,{top:"",color:"white","bg-color":"grey-dark5"},{activator:Object(c["R"])((function(e){var i=e.on;return[Object(c["i"])("button",Object(c["r"])(Object(c["L"])(i),{class:"edit",onClick:function(e){return b.editHabit(t)},type:"button"}),M,16,H)]})),default:Object(c["R"])((function(){return[_]})),_:2},1024),Object(c["m"])(d,{top:"",color:"white","bg-color":"grey-dark5"},{activator:Object(c["R"])((function(e){var i=e.on;return[Object(c["i"])("button",Object(c["r"])(Object(c["L"])(i),{class:"del",type:"button",onClick:function(e){a.delDialog=!0,a.delHabit=t}}),$,16,E)]})),default:Object(c["R"])((function(){return[A]})),_:2},1024)])]),Object(c["i"])("div",G,[(Object(c["y"])(),Object(c["h"])(c["a"],null,Object(c["E"])(30,(function(i){var s,o;return Object(c["i"])("div",{key:i},[a.todayNr+i<b.daysInMonth(e.lastMonthLoad.month,e.lastMonthLoad.year)?(Object(c["y"])(),Object(c["h"])(c["a"],{key:0},[null!==(s=e.lastMonthLoad.days[a.todayNr+i+1])&&void 0!==s&&s.badges.includes(t._id)?(Object(c["y"])(),Object(c["h"])("span",{key:0,class:Object(c["t"])(["filled",n.gradeByCount(t.count)[0]])},Object(c["K"])(b.monthName(e.monthLoad.month-1))+" "+Object(c["K"])(a.todayNr+i+1),3)):(Object(c["y"])(),Object(c["h"])("span",J,Object(c["K"])(b.monthName(e.monthLoad.month-1))+" "+Object(c["K"])(a.todayNr+i+1),1))],64)):(Object(c["y"])(),Object(c["h"])(c["a"],{key:1},[null!==(o=e.monthLoad.days[a.todayNr+i-b.daysInMonth(e.lastMonthLoad.month,e.lastMonthLoad.year)+1])&&void 0!==o&&o.badges.includes(t._id)?(Object(c["y"])(),Object(c["h"])("span",{key:0,class:Object(c["t"])(["filled",n.gradeByCount(t.count)[0]])},Object(c["K"])(b.monthName(e.monthLoad.month))+" "+Object(c["K"])(a.todayNr+i-b.daysInMonth(e.lastMonthLoad.month,e.lastMonthLoad.year)+1),3)):(Object(c["y"])(),Object(c["h"])("span",P,Object(c["K"])(b.monthName(e.monthLoad.month))+" "+Object(c["K"])(a.todayNr+i-b.daysInMonth(e.lastMonthLoad.month,e.lastMonthLoad.year)+1),1))],64))])})),64))])])])})),128))])):(Object(c["y"])(),Object(c["h"])("div",V,[Object(c["i"])("p",null,[U,Object(c["i"])("span",{class:"link",onClick:t[1]||(t[1]=function(e){return a.badgeCreator=!0})},"Create your first badge!")])]))])]),a.delDialog?(Object(c["y"])(),Object(c["h"])("div",z,[a.confirmed?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("div",W,[q,Object(c["m"])(x,{loading:a.loading},null,8,["loading"]),Object(c["i"])("div",Q,[Object(c["i"])("button",{disabled:a.loading,class:"del",onClick:t[2]||(t[2]=function(e){return b.deleteHabit(a.delHabit)}),type:"button"},"Archive",8,X),Y,Object(c["i"])("button",{type:"button",onClick:t[3]||(t[3]=function(e){return a.delDialog=!1})},"Cancel")])])),Object(c["i"])("div",Z,[ee,Object(c["i"])("div",te,[Object(c["i"])("button",{type:"button",onClick:t[4]||(t[4]=function(e){a.delDialog=!1,a.confirmed=!1})},"Ok")])])])):Object(c["g"])("",!0),a.badgeCreator?(Object(c["y"])(),Object(c["f"])(S,{key:1,onClose:t[5]||(t[5]=function(e){a.badgeCreator=!1,a.habit={}}),habit:a.habit},null,8,["habit"])):Object(c["g"])("",!0)])}Object(c["z"])();var ce=i("1da1"),ne=i("5530"),ae=(i("96cf"),i("0d03"),i("d5b5")),se=i("b0cb"),oe=i.n(se),re=i("5d33"),le=i.n(re);Object(c["B"])("data-v-1ec6a971");var be={class:"container medium"},de={class:"flex fw"},ue={class:"badgeHolder first"},Oe={class:"mt8"},je={class:"badge grade1"},he={class:"frame"},ge=["src","alt"],me={class:"icon"},fe=["src","alt"],ve={class:"icon-content mta"},pe=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:oe.a,alt:"Coins"})],-1),ye={key:0},ke={class:"tabs"},xe={class:"flex"},we={key:0,class:"slide"},Ce=Object(c["i"])("h1",null,"Describe your habit",-1),Ie={key:0,class:"warn"},Se={class:"ideas flex column align-center"},Ne=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:le.a,alt:"See ideas"})],-1),Le=Object(c["i"])("figcaption",null,"See ideas",-1),Be=[Ne,Le],De={key:0},Te=Object(c["k"])("<li data-v-1ec6a971>Running</li><li data-v-1ec6a971>Skating</li><li data-v-1ec6a971>Drawing</li><li data-v-1ec6a971>Writing</li><li data-v-1ec6a971>Cleaning the house</li><li data-v-1ec6a971>Practicing an instrument</li><li data-v-1ec6a971>Diet</li><li data-v-1ec6a971>Taking pictures</li><li data-v-1ec6a971>Working on a new project</li><li data-v-1ec6a971>Doing something new</li>",10),Re=[Te],He={key:1,class:"slide"},Ke=Object(c["i"])("h1",null,"Choose an icon",-1),Me=Object(c["i"])("p",{class:"text-center"},"Or type a different term for your icon search. After selecting, click 'Next.'",-1),_e={class:"input-button"},Ee={class:"text-center"},Fe={key:0,class:"box icons grid"},$e=["onClick"],Ae=["src","alt"],Ge={key:1},Je={key:0},Pe=Object(c["i"])("br",null,null,-1),Ve=Object(c["l"])(' Tip: Try a simple noun like "exercise" or "music".'),Ue={ref:"iconNext",class:"iconNext"},ze={key:2,class:"slide"},We=Object(c["i"])("h1",null,"Choose a badge frame",-1),qe={class:"box frames flex wrap"},Qe=["onClick"],Xe=["src"],Ye={ref:"frameNext",class:"frameNext"},Ze={key:3,class:"slide"},et=Object(c["i"])("h1",null,"Assign a value",-1),tt=Object(c["i"])("p",null,"Define how valuable is completing this habit",-1),it={class:"flex column align-center slidecontainer"},ct={class:"icon-content mt4"},nt=Object(c["i"])("figure",null,[Object(c["i"])("img",{src:"/assets/icons/coin.svg",alt:"Coins"})],-1),at={key:0,class:"flex align-center column padyMed"},st=Object(c["i"])("h2",null,"Saving...",-1),ot=["disabled"],rt={key:4,class:"slide"},lt=Object(c["i"])("h1",null,"Habit Badge Saved!",-1),bt=Object(c["l"])("Go to your "),dt=Object(c["l"])("Dashboard"),ut=Object(c["l"])(" to check-in!"),Ot=Object(c["i"])("img",{src:"/assets/icons/close.svg",alt:"Close"},null,-1),jt=[Ot];function ht(e,t,i,n,a,s){var o=Object(c["G"])("pulse-loader"),r=Object(c["G"])("w-tooltip"),l=Object(c["G"])("router-link");return Object(c["y"])(),Object(c["h"])("div",{class:Object(c["t"])(["overlay",{show:i.status}]),ref:"modal",id:"badgesCreator",tabindex:"0",onKeydown:t[17]||(t[17]=Object(c["T"])((function(t){return e.$emit("close")}),["esc"]))},[Object(c["i"])("div",null,[Object(c["i"])("div",be,[Object(c["i"])("div",de,[Object(c["i"])("div",ue,[Object(c["i"])("div",Oe,[Object(c["i"])("div",je,[Object(c["i"])("figure",null,[Object(c["i"])("div",he,[Object(c["i"])("img",{src:a.badgeFrame,alt:a.habitName},null,8,ge)]),Object(c["i"])("div",me,[Object(c["i"])("img",{crossOrigin:"anonymous",ref:"badgeIcon",id:"badgeIcon",src:a.iconSrc,alt:a.habitName},null,8,fe)])]),Object(c["i"])("figcaption",null,Object(c["K"])(a.habitName),1),Object(c["i"])("div",ve,[pe,Object(c["i"])("figcaption",null,Object(c["K"])(a.coins),1)])]),1==a.slide||2==a.slide?(Object(c["y"])(),Object(c["h"])("p",ye,[Object(c["i"])("button",{class:"button medium pulse",onClick:t[0]||(t[0]=function(){return s.nextSlide&&s.nextSlide.apply(s,arguments)})},"Next")])):Object(c["g"])("",!0)])]),Object(c["i"])("div",ke,[Object(c["i"])("nav",xe,[Object(c["i"])("button",{class:Object(c["t"])([{current:0==a.slide}]),role:"tab",onClick:t[1]||(t[1]=function(e){return s.gotoSlide(0)})},"Habit name",2),Object(c["i"])("button",{class:Object(c["t"])([{current:1==a.slide}]),role:"tab",onClick:t[2]||(t[2]=function(e){return s.gotoSlide(1)})},"Icon",2),Object(c["i"])("button",{class:Object(c["t"])([{current:2==a.slide}]),role:"tab",onClick:t[3]||(t[3]=function(e){return s.gotoSlide(2)})},"Frame",2),Object(c["i"])("button",{class:Object(c["t"])([{current:3==a.slide}]),role:"tab",onClick:t[4]||(t[4]=function(e){return s.gotoSlide(3)})},"Value",2)]),0==a.slide?(Object(c["y"])(),Object(c["h"])("div",we,[Ce,a.warn?(Object(c["y"])(),Object(c["h"])("p",Ie,"Please enter the name of your habit")):Object(c["g"])("",!0),Object(c["i"])("p",null,[Object(c["S"])(Object(c["i"])("input",{onKeyup:t[5]||(t[5]=Object(c["T"])((function(){return s.selectIcon&&s.selectIcon.apply(s,arguments)}),["enter"])),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.habitName=e}),type:"text",placeholder:"Ex. Work out"},null,544),[[c["O"],a.habitName]])]),Object(c["i"])("p",null,[Object(c["i"])("button",{class:"button medium",onClick:t[7]||(t[7]=function(){return s.nextSlide&&s.nextSlide.apply(s,arguments)})},"Next")]),Object(c["i"])("div",Se,[Object(c["i"])("div",{class:"flex column align-center",onClick:t[8]||(t[8]=function(e){return a.ideas=!a.ideas})},Be),a.ideas?(Object(c["y"])(),Object(c["h"])("ul",De,Re)):Object(c["g"])("",!0)])])):Object(c["g"])("",!0),1==a.slide?(Object(c["y"])(),Object(c["h"])("div",He,[Ke,Me,Object(c["i"])("p",_e,[Object(c["S"])(Object(c["i"])("input",{onKeyup:t[9]||(t[9]=Object(c["T"])((function(e){return s.getIcons(a.iconTerm)}),["enter"])),"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.iconTerm=e}),type:"text",placeholder:"Search term"},null,544),[[c["O"],a.iconTerm]]),Object(c["i"])("button",{class:"button",onClick:t[11]||(t[11]=function(e){return s.getIcons(a.iconTerm)})},"Search")]),Object(c["i"])("div",Ee,[Object(c["m"])(o,{loading:a.loading},null,8,["loading"])]),a.icons.length?(Object(c["y"])(),Object(c["h"])("div",Fe,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["E"])(a.icons,(function(e){return Object(c["y"])(),Object(c["h"])("figure",{class:Object(c["t"])([{selected:e.id==a.selectedIcon.id}]),key:e.id,onClick:function(t){return s.setIcon(e)}},[Object(c["m"])(r,{top:"",color:"white","bg-color":"grey-dark5"},{activator:Object(c["R"])((function(t){var i=t.on;return[Object(c["i"])("img",Object(c["r"])(Object(c["L"])(i),{src:e.preview_url,alt:e.attribution,crossorigin:"anonymous"}),null,16,Ae)]})),default:Object(c["R"])((function(){return[Object(c["l"])(" "+Object(c["K"])(e.attribution),1)]})),_:2},1024)],10,$e)})),128))])):(Object(c["y"])(),Object(c["h"])("div",Ge,[a.loading?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("p",Je,[Object(c["l"])("No icons found under '"+Object(c["K"])(a.iconSearchTerm)+".' Please enter another search term. ",1),Pe,Ve]))])),Object(c["i"])("p",Ue,[Object(c["i"])("button",{class:"button medium pulse",onClick:t[12]||(t[12]=function(){return s.nextSlide&&s.nextSlide.apply(s,arguments)})},"Next")],512)])):Object(c["g"])("",!0),2==a.slide?(Object(c["y"])(),Object(c["h"])("div",ze,[We,Object(c["i"])("div",qe,[(Object(c["y"])(),Object(c["h"])(c["a"],null,Object(c["E"])(20,(function(e){return Object(c["i"])("figure",{class:Object(c["t"])([{selected:e==a.selectedFrameIndex}]),key:e,onClick:function(t){return s.setFrame(e)}},[Object(c["i"])("img",{src:"/assets/badges/frame/frame"+e+".svg"},null,8,Xe)],10,Qe)})),64))]),Object(c["i"])("p",Ye,[Object(c["i"])("button",{class:"button medium pulse",onClick:t[13]||(t[13]=function(){return s.nextSlide&&s.nextSlide.apply(s,arguments)})},"Next")],512)])):Object(c["g"])("",!0),3==a.slide?(Object(c["y"])(),Object(c["h"])("div",Ze,[et,tt,Object(c["i"])("div",it,[Object(c["S"])(Object(c["i"])("input",{type:"range",min:"1",max:"12","onUpdate:modelValue":t[14]||(t[14]=function(e){return a.coins=e}),class:"slider",id:"myRange"},null,512),[[c["O"],a.coins]]),Object(c["i"])("div",ct,[nt,Object(c["i"])("figcaption",null,Object(c["K"])(a.coins),1)])]),a.loading?(Object(c["y"])(),Object(c["h"])("div",at,[st,Object(c["m"])(o,{loading:a.loading},null,8,["loading"])])):Object(c["g"])("",!0),Object(c["i"])("p",null,[Object(c["i"])("button",{disabled:a.loading,class:"button medium",onClick:t[15]||(t[15]=function(){return s.saveBadge&&s.saveBadge.apply(s,arguments)})},"Save",8,ot)])])):Object(c["g"])("",!0),4==a.slide?(Object(c["y"])(),Object(c["h"])("div",rt,[lt,Object(c["i"])("p",null,[bt,Object(c["m"])(l,{to:"/",class:"link"},{default:Object(c["R"])((function(){return[dt]})),_:1}),ut])])):Object(c["g"])("",!0)])])]),Object(c["i"])("figure",{class:"close",onClick:t[16]||(t[16]=function(t){return e.$emit("close")})},jt)])],34)}Object(c["z"])();i("b64b"),i("6eba");var gt=i("8a5d"),mt=i("5502"),ft={name:"BadgeCreator",props:{status:{type:Boolean,default:!1},habit:{type:Object}},data:function(){return{nextButton:"Next",habitEdit:!1,habitName:"",iconTerm:"",iconSearchTerm:"",warn:!1,warn2:!1,loading:!1,icons:{},selectedIconIndex:"",selectedFrameIndex:1,slide:0,selectedIcon:{},iconSrc:"/assets/badges/default/default.svg",badgeFrame:"/assets/badges/frame/frame1.svg",coins:5,count:0,ideas:!1}},methods:Object(ne["a"])(Object(ne["a"])({},Object(mt["d"])(["saveBadgeToStore","updateBadgeInStore"])),{},{getIcons:function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.icons={},this.warn=!1,this.warn2=!1,e.prev=4,e.next=7,ae["a"].getIcons(t);case 7:i=e.sent,this.icons=i.data,this.loading=!1,this.iconSearchTerm=t,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](4),this.loading=!1,this.warn2=!0;case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));function t(t){return e.apply(this,arguments)}return t}(),selectIcon:function(){""==this.habitName?this.warn=!0:(this.iconTerm=this.habitName,this.getIcons(this.iconTerm),this.gotoSlide(1))},gotoSlide:function(e){this.slide=e},nextSlide:function(){0==this.slide?(this.warn=!1,this.selectIcon()):(this.slide++,this.warn=!1)},setIcon:function(e){this.selectedIcon=e,this.iconSrc=e.preview_url,this.$refs.iconNext.scrollIntoView({behavior:"smooth"})},setFrame:function(e){this.badgeFrame="/assets/badges/frame/frame"+e+".svg",this.selectedFrameIndex=e,this.$refs.frameNext.scrollIntoView({behavior:"smooth"})},saveBadge:function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(){var t,i,c,n,a,s,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,""!=this.habitName){e.next=6;break}this.slide=0,this.warn=!0,e.next=28;break;case 6:if(t=JSON.parse(localStorage.getItem("user")),i=this.$refs.badgeIcon,c=document.createElement("canvas"),n=c.getContext("2d"),c.width=i.width,c.height=i.height,n.drawImage(i,0,0,i.width,i.height),a=c.toDataURL("image/png"),!Object.keys(this.$props.habit).length){e.next=21;break}return console.log("Updating"),s={_id:this.$props.habit._id,icon:this.selectedIcon.id,name:this.habitName,frame:this.selectedFrameIndex,image:a,value:this.coins,count:this.count},e.next=18,ae["a"].saveBadge({user:t.token,habit:s});case 18:this.updateBadgeInStore(s),e.next=27;break;case 21:return console.log("Saving as new"),o=Math.floor(Date.now()/1e3),r={_id:o,icon:this.selectedIcon.id,name:this.habitName,frame:this.selectedFrameIndex,image:a,value:this.coins,count:this.count},e.next=26,ae["a"].saveBadge({user:t.token,habit:r});case 26:this.saveBadgeToStore(r);case 27:this.slide=4;case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),components:{PulseLoader:gt["a"]},mounted:function(){this.$refs.modal.focus(),Object.keys(this.$props.habit).length&&(this.habitName=this.$props.habit.name,this.selectedFrameIndex=this.$props.habit.frame,this.iconSrc=this.$props.habit.image,this.badgeFrame="/assets/badges/frame/frame"+this.selectedFrameIndex+".svg",this.coins=this.$props.habit.value,this.count=this.$props.habit.count)}};i("469a");ft.render=ht,ft.__scopeId="data-v-1ec6a971";var vt=ft,pt=i("dac5"),yt={name:"Habits",setup:function(){var e=Object(mt["f"])();return{gradeByCount:pt["a"],userHabits:Object(c["d"])((function(){return e.getters.userHabits}))}},data:function(){return{badgeCreator:!1,delDialog:!1,delHabit:null,habit:{},loading:!1,confirmed:!1,todayNr:(new Date).getDate()}},computed:Object(ne["a"])({},Object(mt["e"])(["user","monthLoad","lastMonthLoad"])),watch:{badgeCreator:function(){var e=document.body;this.badgeCreator?e.classList.add("overlaid"):e.classList.remove("overlaid")}},methods:Object(ne["a"])(Object(ne["a"])({},Object(mt["d"])(["updateBadgeInStore"])),{},{editHabit:function(e){this.habit=e,this.badgeCreator=!0},deleteHabit:function(){var e=Object(ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.delHabit=Object(ne["a"])(Object(ne["a"])({},this.delHabit),{},{deleted:!0}),this.updateBadgeInStore(this.delHabit),e.next=5,ae["a"].saveBadge({user:this.user.token,habit:this.delHabit});case 5:this.loading=!1,this.confirmed=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),monthName:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e-1]},daysInMonth:function(e,t){return new Date(t,e,0).getDate()}}),components:{BadgeCreator:vt,PulseLoader:gt["a"]},mounted:function(){document.body.classList.remove("overlaid"),window.scrollTo(0,0)}};i("d8bc");yt.render=ie,yt.__scopeId="data-v-cb208674";t["default"]=yt}}]);
//# sourceMappingURL=chunk-d2abb4f0.27ecbcf5.js.map