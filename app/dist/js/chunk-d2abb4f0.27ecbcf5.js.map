{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./src/components/BadgeCreator.vue?ef01","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/Habits.vue?78a6","webpack:///./src/components/useFunctions.js","webpack:///./src/views/Habits.vue","webpack:///./src/components/BadgeCreator.vue","webpack:///./src/components/BadgeCreator.vue?aa46","webpack:///./src/views/Habits.vue?5722"],"names":["$","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","target","proto","forced","includes","searchString","this","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","METHOD_NAME","regexp","error1","error2","$includes","addToUnscopables","el","gradeByCount","count","grades","class","src","alt","else","user","name","badgeCreator","userHabits","habit","key","_id","frame","crossOrigin","id","image","icon","top","color","bg-color","activator","on","editHabit","type","delDialog","delHabit","index","todayNr","daysInMonth","lastMonthLoad","month","year","days","badges","monthName","monthLoad","confirmed","loading","disabled","deleteHabit","ref","status","tabindex","$emit","badgeFrame","habitName","iconSrc","coins","slide","nextSlide","role","gotoSlide","warn","selectIcon","placeholder","ideas","getIcons","iconTerm","icons","selectedIcon","setIcon","preview_url","attribution","crossorigin","iconSearchTerm","selectedFrameIndex","setFrame","min","max","saveBadge","to","props","Boolean","default","Object","data","nextButton","habitEdit","warn2","selectedIconIndex","methods","term","PostService","nr","$refs","iconNext","scrollIntoView","behavior","frameNext","JSON","parse","localStorage","getItem","badgeIcon","imgCanvas","document","createElement","imgContext","getContext","width","height","drawImage","imgAsDataURL","toDataURL","keys","$props","console","log","value","token","updateBadgeInStore","uniqueId","Math","floor","Date","now","saveBadgeToStore","components","PulseLoader","mounted","modal","focus","render","__scopeId","setup","store","getters","getDate","computed","watch","bod","body","classList","add","remove","deleted","months","BadgeCreator","window","scrollTo"],"mappings":"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","file":"js/chunk-d2abb4f0.27ecbcf5.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~toString(requireObjectCoercible(this))\n      .indexOf(toString(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BadgeCreator.vue?vue&type=style&index=0&id=1ec6a971&scoped=true&lang=scss\"","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Habits.vue?vue&type=style&index=0&id=cb208674&scoped=true&lang=scss\"","export function gradeByCount(count) {\n\t\tconst grades = [\n\t\t\t[ 'grade1', 'Morning grade' ],\n\t\t\t[ 'grade3', 'Azure grade' ],\n\t\t\t[ 'grade2', 'Gold grade' ],\n\t\t\t[ 'grade4', 'Rise grade' ],\n\t\t\t[ 'grade5', 'Pacific grade' ]\n\t\t]\n\t\tif (count < 10) { return grades[0] } \n\t\telse if (count >= 10 && count < 30) { return grades[1] }\n\t\telse if (count >= 30 && count < 60) { return grades[2] }\n\t\telse if (count >= 60 && count < 120) { return grades[3] }\n\t\telse if (count >= 120) { return grades[4] }\n}\n","<template>\n  <div>\n    <div class=\"container dash\">\n      <div class=\"main\">\n\t\t\t\t<h1>This are your habits {{ user.name }}</h1>\n        <div class=\"flex justify-between\">\n\t\t\t\t\t<p class=\"pr4\">Create your custom badges to track your daily progress</p>\n\t\t\t\t\t<button class=\"button button-add\" @click=\"badgeCreator = true\">\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<img src=\"/assets/badges/default/add.svg\" alt=\"Add new\">\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<figcaption class=\"xs-hide\">Create new</figcaption>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex wrap justify-between mt4\" v-if=\"user && userHabits.length\">\n\t\t\t\t\t<div class=\"habit-row box flex\" v-for=\"habit in userHabits\" :key=\"habit._id\">\n\t\t\t\t\t\t<div class=\"habit mdd-d-flex\">\n\t\t\t\t\t\t\t<div class=\"badge\" :class=\"gradeByCount(habit.count)[0]\">\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t<div class=\"frame\"><img :src=\"'/assets/badges/frame/frame'+habit.frame+'.svg'\" :alt=\"habit.name\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"icon\"><img crossOrigin=\"anonymous\" id=\"badgeIcon\" :src=\"habit.image\" :alt=\"habit.icon\"></div>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"badge-grade mt2 text-center\">\n\t\t\t\t\t\t\t\t<h2 class=\"lgu-hide\">{{ habit.name }}</h2>\n\t\t\t\t\t\t\t\t<h3>{{ gradeByCount(habit.count)[1] }}</h3>\n\t\t\t\t\t\t\t\t<p>Done {{ habit.count }} times</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"badgeEditControls first\">\n\t\t\t\t\t\t\t\t\t<w-tooltip top color=\"white\" bg-color=\"grey-dark5\">\n\t\t\t\t\t\t\t\t\t\t<template #activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t<button v-on=\"on\" class=\"edit\" @click=\"editHabit(habit)\" type=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t<figure><img src=\"/assets/badges/default/edit.svg\" alt=\"Edit\"></figure>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t</w-tooltip>\n\t\t\t\t\t\t\t\t\t<w-tooltip top color=\"white\" bg-color=\"grey-dark5\">\n\t\t\t\t\t\t\t\t\t\t<template #activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t<button v-on=\"on\" class=\"del\" type=\"button\" @click=\"delDialog = true; delHabit = habit\">\n\t\t\t\t\t\t\t\t\t\t\t\t<figure><img src=\"@/assets/icons/archive.svg\" alt=\"Delete\"></figure>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t\t\t\t</w-tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"timeline\">\n\t\t\t\t\t\t\t<div class=\"flex justify-between align-bottom\">\n\t\t\t\t\t\t\t\t<h2 class=\"mdd-hide\">{{ habit.name }}</h2>\n\t\t\t\t\t\t\t\t<div class=\"badgeEditControls second\">\n\t\t\t\t\t\t\t\t\t<w-tooltip top color=\"white\" bg-color=\"grey-dark5\">\n\t\t\t\t\t\t\t\t\t\t<template #activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t<button v-on=\"on\" class=\"edit\" @click=\"editHabit(habit)\" type=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t<figure><img src=\"/assets/badges/default/edit.svg\" alt=\"Edit\"></figure>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t</w-tooltip>\n\t\t\t\t\t\t\t\t\t<w-tooltip top color=\"white\" bg-color=\"grey-dark5\">\n\t\t\t\t\t\t\t\t\t\t<template #activator=\"{ on }\">\n\t\t\t\t\t\t\t\t\t\t\t<button v-on=\"on\" class=\"del\" type=\"button\" @click=\"delDialog = true; delHabit = habit\">\n\t\t\t\t\t\t\t\t\t\t\t\t<figure><img src=\"@/assets/icons/archive.svg\" alt=\"Delete\"></figure>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t\t\t\t</w-tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"tablechart\">\n\t\t\t\t\t\t\t\t<div v-for=\"index in 30\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<template v-if=\"todayNr+index < daysInMonth(lastMonthLoad.month, lastMonthLoad.year)\">\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"lastMonthLoad.days[todayNr+index+1]?.badges.includes(habit._id)\" class=\"filled\" :class=\"gradeByCount(habit.count)[0]\">{{monthName(monthLoad.month - 1)}} {{todayNr+index+1}}</span>\n\t\t\t\t\t\t\t\t\t\t<span v-else class=\"empty\">{{monthName(monthLoad.month - 1)}} {{todayNr+index+1}}</span>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"monthLoad.days[todayNr+index-daysInMonth(lastMonthLoad.month, lastMonthLoad.year)+1]?.badges.includes(habit._id)\" class=\"filled\" :class=\"gradeByCount(habit.count)[0]\">{{monthName(monthLoad.month)}} {{todayNr+index-daysInMonth(lastMonthLoad.month, lastMonthLoad.year)+1}}</span>\n\t\t\t\t\t\t\t\t\t\t<span v-else class=\"empty\">{{monthName(monthLoad.month)}} {{todayNr+index-daysInMonth(lastMonthLoad.month, lastMonthLoad.year)+1}}</span>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t<p>No habits created. <span class=\"link\" @click=\"badgeCreator = true\">Create your first badge!</span></p>\n\t\t\t\t</div>\n      </div>\n\n    </div>\n\n  <div v-if=\"delDialog\" class=\"delDialog overlay\">\n    <div v-if=\"!confirmed\" class=\"container\">\n      <div>\n        <h1>Are you sure you wish to archive this badge?</h1>\n        <p>Any previous entries in the daily calendar will still be visible.</p>\n      </div>\n      <pulse-loader :loading=\"loading\"></pulse-loader>\n      <div class=\"controls\"><button :disabled=\"loading\" class=\"del\" @click=\"deleteHabit(delHabit)\" type=\"button\">Archive</button> <button type=\"button\" @click=\"delDialog = false\">Cancel</button></div>\n    </div>\n    <div else>\n      <h1>The selected badge has been archived.</h1>\n      <div class=\"controls\">\n        <button type=\"button\" @click=\"delDialog = false; confirmed = false\">Ok</button>\n      </div>\n    </div>\n  </div>\n  \n  <BadgeCreator v-if=\"badgeCreator\" @close=\"badgeCreator = false; habit = {}\" :habit=\"habit\" />\n  </div>\n</template>\n\n<script>\nimport PostService from '../PostService'\nimport BadgeCreator from '@/components/BadgeCreator.vue'\nimport { useStore, mapState, mapMutations } from \"vuex\";\nimport { computed } from 'vue'\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\nimport { gradeByCount } from \"@/components/useFunctions.js\";\n\nexport default {\n  name: 'Habits',\n\tsetup() {\n\t\tconst store = useStore()\n\n\t\treturn {\n\t\t\tgradeByCount,\n\t\t\tuserHabits: computed(() => store.getters.userHabits)\n\t\t}\n\t},\n  data() {\n    return {\n      badgeCreator: false,\n      delDialog: false,\n      delHabit: null,\n      habit: {},\n      loading: false,\n      confirmed: false,\n\t\t\ttodayNr: new Date().getDate(),\n    }\n  },\n  computed: {\n    ...mapState([\"user\",\"monthLoad\",\"lastMonthLoad\"]),\n  },\n  watch: {\n    // Add overlay class to body if Badge Creator component is open\n    badgeCreator: function() {\n      const bod = document.body\n      if (this.badgeCreator) {\n        bod.classList.add('overlaid')\n      } else {\n        bod.classList.remove('overlaid')\n      }\n    }\n  },\n  methods: {\n    ...mapMutations(['updateBadgeInStore']),\n    editHabit: function(habit) {\n      this.habit = habit\n      this.badgeCreator = true\n    },\n    // Set habit to hidden in DB with the *deleted* attribute\n    deleteHabit: async function() {\n      this.loading = true\n      this.delHabit = { ...this.delHabit, deleted: true }\n      this.updateBadgeInStore( this.delHabit )\n      await PostService.saveBadge({ user: this.user.token, habit: this.delHabit });\n      this.loading = false\n      this.confirmed = true\n    },\n\t\tmonthName: function(month) {\n\t\t\tlet months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\t\t\treturn months[month-1]\n\t\t},\n\t\tdaysInMonth: function(month, year) {\n\t\t\treturn new Date(year, month, 0).getDate();\n\t\t}\n  },\n  components: { BadgeCreator, PulseLoader },\n  mounted() {\n    document.body.classList.remove('overlaid')\n    window.scrollTo(0, 0)\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\nh1 { font-weight: 300; }\n\n.habit-row { \n\twidth: 100%; \n\tmargin-bottom: 2rem; \n\tmax-width: calc(50% - 1rem);\n\t@media (max-width: 1200px) {\n\t\tmax-width: 100%;\n\t\tflex-direction: column;\n\t\t.habit { \n\t\t\twidth: 100%;\n\t\t\tjustify-content: space-between;\n\t\t\t.badge {\n\t\t\t\twidth: auto;\n\t\t\t\tmax-width: 10rem;\n\t\t\t\tmargin-right: 1rem;\n\t\t\t}\n\t\t\t.badge-grade { margin: auto; flex-grow: 1; }\n\t\t}\n\t}\n\t@media (max-width: 600px) {\n\t\t.habit {\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\t.badge {\n\t\t\t\tmargin: auto auto 1rem;\n\t\t\t}\n\t\t}\n\t}\n\th2 { margin: 0; }\n\th3 { margin: 0 0 .5rem; }\n\tp { margin: 0; font-size: 1rem; }\n}\n.box {\n\tpadding: 2rem;\n  .badge-add { img { transform: scale(1.5); } }\n}\n.habit {\n\twidth: 10rem;\n\tmargin-right: 2rem;\n\t.badge {\n\t\tpadding-bottom: 1.4rem;\n\t}\n}\n.badgeEditControls { \n\tdisplay: flex; justify-content: flex-end; \n\tmargin-top: 1rem; margin-left: auto;\n\t&.first { display: none; }\n\tbutton { display: block; cursor: pointer; margin-left: 1rem;\n\t\twidth: auto; border-radius: 0 0 .314rem .314rem;\n\t\tfont-weight: 200; font-size: .9rem; border: none; \n\t\tpadding: 0;\n\t\tbackground: none; box-shadow: none; transition: transform .2s ease;\n\t\t&.edit { figure { filter: invert(36%) sepia(66%) saturate(7120%) hue-rotate(219deg) brightness(99%) contrast(97%); } }\n\t\t&.del { figure { filter: invert(36%) sepia(66%) saturate(7120%) hue-rotate(219deg) brightness(99%) contrast(97%); } }\n\t\tfigure img { height: 2rem; }\n\t\t&:hover { transform: scale(1.2); }\n\t}\n\t@media (max-width: 1200px) {\n\t\t&.first { display: flex; }\n\t\t&.second { display: none; }\n\t}\n\t@media (max-width: 600px) {\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\tbutton {\n\t\t\tmargin: 0 .5rem;\n\t\t}\n\t}\n}\n\n.timeline { width: 100%; }\n.tablechart {\n\tmargin-top: 1.7rem; width: 100%; display: grid;\n\tgrid-template-columns: repeat( auto-fill, minmax(5rem, 1fr) ); gap: 1.2rem; row-gap: .7rem;\n\tdiv {\n\t\tspan {\n\t\t\tborder-radius: .5rem;\n\t\t\tpadding: .5rem;\n\t\t\tdisplay: flex; width: 100%; height: 3rem;\n\t\t\ttext-align: center;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\t&.empty {\n\t\t\t\tbox-shadow: rgb(204, 219, 232) 3px 3px 6px 0px inset, rgba(255, 255, 255, 0.5) -3px -3px 6px 1px inset; border: 1px solid #c2c2c2;\n\t\t\t}\n\t\t\t&.filled {\n\t\t\t\tbox-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.delDialog { \n  text-align: center; \n  .controls {\n    display: flex; justify-content: center;\n    button { margin-right: 20px; width: auto; cursor: pointer; }\n    button.del { background: #f7b016; }\n  }\n}\n\n</style>","<template>\n  <div :class=\"['overlay', { show: status }]\" ref=\"modal\" id=\"badgesCreator\" tabindex=\"0\" @keydown.esc=\"$emit('close')\">\n    <div>\n      <div class=\"container medium\">\n        <div class=\"flex fw\">\n          <div class=\"badgeHolder first\">\n            <div class=\"mt8\">\n\t\t\t\t\t\t\t<div class=\"badge grade1\">\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t<div class=\"frame\"><img :src=\"badgeFrame\" :alt=\"habitName\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"icon\"><img crossOrigin=\"anonymous\" ref=\"badgeIcon\" id=\"badgeIcon\" :src=\"iconSrc\" :alt=\"habitName\"></div>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t<figcaption>{{ habitName }}</figcaption>\n\t\t\t\t\t\t\t\t<div class=\"icon-content mta\"> \n\t\t\t\t\t\t\t\t\t<figure><img src=\"@/assets/icons/coin.svg\" alt=\"Coins\"></figure>\n\t\t\t\t\t\t\t\t\t<figcaption>{{ coins }}</figcaption>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p v-if=\"slide == 1 || slide == 2\"><button class=\"button medium pulse\" @click=\"nextSlide\">Next</button></p>\n\n\n            </div>\n          </div>\n\n          <div class=\"tabs\">\n            <nav class=\"flex\">\n              <button :class=\"[{ current: slide == 0 }]\" role=\"tab\" @click=\"gotoSlide(0)\">Habit name</button>\n              <button :class=\"[{ current: slide == 1 }]\" role=\"tab\" @click=\"gotoSlide(1)\">Icon</button>\n              <button :class=\"[{ current: slide == 2 }]\" role=\"tab\" @click=\"gotoSlide(2)\">Frame</button>\n              <button :class=\"[{ current: slide == 3 }]\" role=\"tab\" @click=\"gotoSlide(3)\">Value</button>\n            </nav>\n\n            <div class=\"slide\" v-if=\"slide == 0\">\n\t\t\t\t\t\t\t<h1>Describe your habit</h1>\n\t\t\t\t\t\t\t<p v-if=\"warn\" class=\"warn\">Please enter the name of your habit</p>\n\t\t\t\t\t\t\t<p><input @keyup.enter=\"selectIcon\" v-model=\"habitName\" type=\"text\" placeholder=\"Ex. Work out\"></p>\n\t\t\t\t\t\t\t<p><button class=\"button medium\" @click=\"nextSlide\">Next</button></p>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"ideas flex column align-center\">\n\t\t\t\t\t\t\t\t<div class=\"flex column align-center\" @click=\"ideas = !ideas\">\n\t\t\t\t\t\t\t\t\t<figure><img src=\"@/assets/icons/ideas.svg\" alt=\"See ideas\"></figure>\n\t\t\t\t\t\t\t\t\t<figcaption>See ideas</figcaption>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ul v-if=\"ideas\">\n\t\t\t\t\t\t\t\t\t<li>Running</li>\n\t\t\t\t\t\t\t\t\t<li>Skating</li>\n\t\t\t\t\t\t\t\t\t<li>Drawing</li>\n\t\t\t\t\t\t\t\t\t<li>Writing</li>\n\t\t\t\t\t\t\t\t\t<li>Cleaning the house</li>\n\t\t\t\t\t\t\t\t\t<li>Practicing an instrument</li>\n\t\t\t\t\t\t\t\t\t<li>Diet</li>\n\t\t\t\t\t\t\t\t\t<li>Taking pictures</li>\n\t\t\t\t\t\t\t\t\t<li>Working on a new project</li>\n\t\t\t\t\t\t\t\t\t<li>Doing something new</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n            </div>\n\n            <div class=\"slide\" v-if=\"slide == 1\">\n              <h1>Choose an icon</h1>\n\t\t\t\t\t\t\t<p class=\"text-center\">Or type a different term for your icon search. After selecting, click 'Next.'</p>\n              <p class=\"input-button\"><input @keyup.enter=\"getIcons(iconTerm)\" v-model=\"iconTerm\" type=\"text\" placeholder=\"Search term\"><button class=\"button\" @click=\"getIcons(iconTerm)\">Search</button></p>\n              <div class=\"text-center\">\n\t\t\t\t\t\t\t\t<pulse-loader :loading=\"loading\"></pulse-loader>\n\t\t\t\t\t\t\t</div>\n              <div v-if=\"icons.length\" class=\"box icons grid\">\n                <figure :class=\"[{ selected: icon.id == selectedIcon.id }]\"\n                  v-for=\"icon in icons\" :key=\"icon.id\" @click=\"setIcon(icon)\">\n\t\t\t\t\t\t\t\t\t<w-tooltip top color=\"white\" bg-color=\"grey-dark5\">\n\t\t\t\t\t\t\t\t\t\t<template #activator=\"{ on }\">\n\t\t                  <img v-on=\"on\" :src=\"icon.preview_url\" :alt=\"icon.attribution\" crossorigin=\"anonymous\">\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t{{ icon.attribution }}\n\t\t\t\t\t\t\t\t\t</w-tooltip>\n                </figure>\n              </div>\n\n              <div v-else>\n                <p v-if=\"!loading\">No icons found under '{{ iconSearchTerm }}.' Please enter another search term. <br>\n                Tip: Try a simple noun like \"exercise\" or \"music\".</p>\n              </div>\n\n\t\t\t\t\t\t\t<p ref=\"iconNext\" class=\"iconNext\"><button class=\"button medium pulse\" @click=\"nextSlide\">Next</button></p>\n\n            </div>\n\n            <div class=\"slide\" v-if=\"slide == 2\">\n              <h1>Choose a badge frame</h1>\n              <div class=\"box frames flex wrap\">\n                <figure :class=\"[{ selected: index == selectedFrameIndex }]\" \n                  v-for=\"index in 20\" :key=\"index\" @click=\"setFrame(index)\">\n                  <img :src=\"'/assets/badges/frame/frame'+index+'.svg'\">\n                </figure>\n              </div>\n\t\t\t\t\t\t\t<p ref=\"frameNext\" class=\"frameNext\"><button class=\"button medium pulse\" @click=\"nextSlide\">Next</button></p>\n            </div>\n\n            <div class=\"slide\" v-if=\"slide == 3\">\n              <h1>Assign a value</h1>\n              <p>Define how valuable is completing this habit</p>\n              <div class=\"flex column align-center slidecontainer\">\n\t\t\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"12\" v-model=\"coins\" class=\"slider\" id=\"myRange\">\n\t\t\t\t\t\t\t\t<div class=\"icon-content mt4\"> \n\t\t\t\t\t\t\t\t\t<figure><img src=\"/assets/icons/coin.svg\" alt=\"Coins\"></figure>\n\t\t\t\t\t\t\t\t\t<figcaption>{{ coins }}</figcaption>\n\t\t\t\t\t\t\t\t</div>\n              </div>\n\t\t\t\t\t\t\t<div v-if=\"loading\" class=\"flex align-center column padyMed\">\n\t\t\t\t\t\t\t\t<h2>Saving...</h2>\n\t\t\t\t\t\t\t\t<pulse-loader :loading=\"loading\"></pulse-loader>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p><button :disabled=\"loading\" class=\"button medium\" @click=\"saveBadge\">Save</button></p>\n            </div>\n\n\t\t\t\t\t\t<div class=\"slide\" v-if=\"slide == 4\">\n\t\t\t\t\t\t\t<h1>Habit Badge Saved!</h1>\n\t\t\t\t\t\t\t<p>Go to your <router-link to=\"/\" class=\"link\">Dashboard</router-link> to check-in!</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n          </div>\n        </div>\n        \n      </div>\n      <figure class=\"close\" @click=\"$emit('close')\"><img src=\"/assets/icons/close.svg\" alt=\"Close\"></figure>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport PostService from '../PostService'\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: 'BadgeCreator',\n  props: {\n    status: {\n      type: Boolean,\n      default: false\n    },\n    habit: {\n      type: Object\n    }\n  },\n  data() {\n    return {\n      nextButton: 'Next',\n      habitEdit: false,\n      habitName: '',\n      iconTerm: '',\n      iconSearchTerm: '',\n      warn: false,\n      warn2: false,\n      loading: false,\n      icons: {},\n      selectedIconIndex: '',\n      selectedFrameIndex: 1,\n      slide: 0,\n      selectedIcon: {},\n      iconSrc: '/assets/badges/default/default.svg',\n      badgeFrame: '/assets/badges/frame/frame1.svg',\n      coins: 5,\n\t\t\tcount: 0,\n\t\t\tideas: false\n    }\n  },\n  methods: {\n    ...mapMutations(['saveBadgeToStore','updateBadgeInStore']),\n    // Search for icons using The Noun Project API\n    getIcons: async function(term) {\n      this.loading = true\n      this.icons = {}\n      this.warn = false\n      this.warn2 = false\n      try {\n        var icons = await PostService.getIcons(term)\n        this.icons = icons.data\n        this.loading = false\n        this.iconSearchTerm = term\n      } catch {\n        this.loading = false\n        this.warn2 = true\n      }\n    },\n    selectIcon() {\n\t\t\tif (this.habitName == '') {\n\t\t\t\tthis.warn = true\n\t\t\t} else {\n\t\t\t\tthis.iconTerm = this.habitName\n\t\t\t\tthis.getIcons(this.iconTerm)\n\t\t\t\t//this.iconTerm = ''\n\t\t\t\tthis.gotoSlide(1)\n\t\t\t}\n    },\n    gotoSlide: function(nr) {\n      this.slide = nr\n    },\n    nextSlide: function() {\n      if (this.slide == 0) { \n      \tthis.warn = false\n        this.selectIcon() \n      } else {\n        this.slide++\n      \tthis.warn = false\n      }\n    },\n    setIcon: function(icon) {\n      this.selectedIcon = icon\n      this.iconSrc = icon.preview_url\n\t\t\tthis.$refs.iconNext.scrollIntoView({behavior: \"smooth\"});\n    },\n    setFrame: function(index) {\n      this.badgeFrame = '/assets/badges/frame/frame'+index+'.svg'\n      this.selectedFrameIndex = index\n\t\t\tthis.$refs.frameNext.scrollIntoView({behavior: \"smooth\"});\n    },\n    saveBadge: async function() {\n      this.loading = true\n      if (this.habitName == '') {\n        this.slide = 0\n        this.warn = true\n      } else {\n        // This saves the selected icon PNG image as a base64 string to embed in the DB\n        var user = JSON.parse(localStorage.getItem(\"user\"))\n        var badgeIcon = this.$refs.badgeIcon;\n        var imgCanvas = document.createElement(\"canvas\"), imgContext = imgCanvas.getContext(\"2d\");\n        imgCanvas.width = badgeIcon.width; imgCanvas.height = badgeIcon.height;\n        imgContext.drawImage(badgeIcon, 0, 0, badgeIcon.width, badgeIcon.height);\n        var imgAsDataURL = imgCanvas.toDataURL(\"image/png\");\n        if (Object.keys(this.$props.habit).length) {\n          // If this is the edition of a previously existing habit, update instead of saving as new.\n          console.log(\"Updating\")\n          let habit = { _id: this.$props.habit._id, icon: this.selectedIcon.id, name: this.habitName, frame: this.selectedFrameIndex, image: imgAsDataURL, value: this.coins, count: this.count }\n          await PostService.saveBadge({ user: user.token, habit: habit });\n          this.updateBadgeInStore( habit )\n        } else {\n          console.log(\"Saving as new\")\n          var uniqueId = Math.floor(Date.now() / 1000);\n          let habit = { _id: uniqueId, icon: this.selectedIcon.id, name: this.habitName, frame: this.selectedFrameIndex, image: imgAsDataURL, value: this.coins, count: this.count }\n          await PostService.saveBadge({ user: user.token, habit: habit });\n          this.saveBadgeToStore(habit)\n        }\n        //this.$emit('close')\n\t\t\t\tthis.slide = 4\n      }\n    },\n  },\n  components: { PulseLoader },\n  mounted() {\n    this.$refs.modal.focus()\n    // Check if this is an edition of an existing habit as set by the props.\n    if (Object.keys(this.$props.habit).length) {\n      this.habitName = this.$props.habit.name\n      this.selectedFrameIndex = this.$props.habit.frame\n      this.iconSrc = this.$props.habit.image\n      this.badgeFrame = '/assets/badges/frame/frame'+this.selectedFrameIndex+'.svg'\n      this.coins = this.$props.habit.value\n\t\t\tthis.count = this.$props.habit.count\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~@/scss/_badge-maker.scss\";\n@import \"~@/scss/animate.css\";\n\n.iconNext, .frameNext { display: none; }\n\n.pulse {\n\tanimation: pulse 2s infinite;\n}\n\n\n</style>","import { render } from \"./BadgeCreator.vue?vue&type=template&id=1ec6a971&scoped=true\"\nimport script from \"./BadgeCreator.vue?vue&type=script&lang=js\"\nexport * from \"./BadgeCreator.vue?vue&type=script&lang=js\"\n\nimport \"./BadgeCreator.vue?vue&type=style&index=0&id=1ec6a971&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1ec6a971\"\n\nexport default script","import { render } from \"./Habits.vue?vue&type=template&id=cb208674&scoped=true\"\nimport script from \"./Habits.vue?vue&type=script&lang=js\"\nexport * from \"./Habits.vue?vue&type=script&lang=js\"\n\nimport \"./Habits.vue?vue&type=style&index=0&id=cb208674&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-cb208674\"\n\nexport default script"],"sourceRoot":""}