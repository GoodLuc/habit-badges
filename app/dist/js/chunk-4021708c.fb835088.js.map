{"version":3,"sources":["webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?83d2","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?012e","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/Login.vue?756f"],"names":["class","style","spinnerStyle","spinnerDelay1","spinnerDelay2","spinnerDelay3","loading","name","props","type","Boolean","default","color","String","size","margin","radius","data","backgroundColor","this","width","height","borderRadius","display","animationName","animationDuration","animationIterationCount","animationTimingFunction","animationFillMode","animationDelay","render","selector","showRegister","showLogin","register","href","email","placeholder","id","makeUser","password","warn","warn_message","warn2","disabled","login","validateUser","created","$router","push","methods","PostService","checkUser","checkuser","newUser","user","console","log","localStorage","setItem","JSON","stringify","token","_id","$store","dispatch","length","undefined","habits","components","PulseLoader","mounted","beforeUnmount","__scopeId"],"mappings":"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","file":"js/chunk-4021708c.fb835088.js","sourcesContent":["export * from \"-!../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../vue-loader-v16/dist/stylePostLoader.js!../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../cache-loader/dist/cjs.js??ref--0-0!../../vue-loader-v16/dist/index.js??ref--0-1!./PulseLoader.vue?vue&type=style&index=0&id=7dc0198c&lang=css\"","<template>\n<div class=\"v-spinner\" v-show=\"loading\">\n    <div class=\"v-pulse v-pulse1\" v-bind:style=\"[spinnerStyle,spinnerDelay1]\">\n    </div><div class=\"v-pulse v-pulse2\" v-bind:style=\"[spinnerStyle,spinnerDelay2]\">\n    </div><div class=\"v-pulse v-pulse3\" v-bind:style=\"[spinnerStyle,spinnerDelay3]\">\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  \n  name: 'PulseLoader',\n\n  props: {\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    color: { \n      type: String,\n      default: '#5dc596'\n    },\n    size: {\n      type: String,\n      default: '15px'\n    },\n    margin: {\n      type: String,\n      default: '2px'\n    },\n    radius: {\n      type: String,\n      default: '100%'\n    }\n  },\n  data () {\n    return {\n      spinnerStyle: {\n      \tbackgroundColor: this.color,\n      \twidth: this.size,\n        height: this.size,\n      \tmargin: this.margin,\n      \tborderRadius: this.radius,\n        display: 'inline-block',\n        animationName: 'v-pulseStretchDelay',\n        animationDuration: '0.75s',\n        animationIterationCount: 'infinite',\n        animationTimingFunction: 'cubic-bezier(.2,.68,.18,1.08)',\n        animationFillMode: 'both'\n      },\n      spinnerDelay1: {\n        animationDelay: '0.12s'\n      },\n      spinnerDelay2: {\n        animationDelay: '0.24s'\n      },\n      spinnerDelay3: {\n        animationDelay: '0.36s'\n      }\n    }\n  }\n\n}\n</script>\n\n<style>\n/*.v-spinner\n{\n    margin: 100px auto;\n    text-align: center;\n}\n*/\n\n@-webkit-keyframes v-pulseStretchDelay\n{\n    0%,\n    80%\n    {\n        -webkit-transform: scale(1);\n                transform: scale(1);\n        -webkit-opacity: 1;             \n                opacity: 1;\n    }\n    45%\n    {\n        -webkit-transform: scale(0.1);\n                transform: scale(0.1);\n        -webkit-opacity: 0.7;             \n                opacity: 0.7;\n    }\n}\n\n@keyframes v-pulseStretchDelay\n{\n    0%,\n    80%\n    {\n        -webkit-transform: scale(1);\n                transform: scale(1);\n        -webkit-opacity: 1;             \n                opacity: 1;\n    }\n    45%\n    {\n        -webkit-transform: scale(0.1);\n                transform: scale(0.1);\n        -webkit-opacity: 0.7;             \n                opacity: 0.7;\n    }\n}\n</style>","import { render } from \"./PulseLoader.vue?vue&type=template&id=7dc0198c\"\nimport script from \"./PulseLoader.vue?vue&type=script&lang=js\"\nexport * from \"./PulseLoader.vue?vue&type=script&lang=js\"\n\nimport \"./PulseLoader.vue?vue&type=style&index=0&id=7dc0198c&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container\">\n\t\t<div v-if=\"selector\" class=\"selector\">\n      <h2>Register or login</h2>\n      <div class=\"flex wrap justify-center\">\n\t\t\t\t<button class=\"button medium ml2\" @click=\"showRegister\">Register</button>\n\t\t\t\t<button class=\"button medium\" @click=\"showLogin\">Login</button>\n\t\t\t</div>\n      <p><small>v1.0b</small></p>\n    </div>\n    <div v-if=\"register\" class=\"register flex wrap justify-center\">\n      <h2>Register</h2>\n      <p>\n        <a href=\"#\" @click=\"showLogin\">Login instead?</a>\n      </p>\n      <input type=\"text\" v-model=\"email\" placeholder=\"Email\">\n      <input type=\"text\" v-model=\"name\" placeholder=\"Name\" id=\"Name\">\n      <input @keyup.enter=\"makeUser\" type=\"password\" v-model=\"password\" placeholder=\"Password\">\n      <p v-if=\"warn\" class=\"warn\">{{ warn_message }}</p>\n      <p v-if=\"warn2\" class=\"warn\">That email is already registered. <a href=\"#\" @click=\"showLogin\">Login instead?</a></p>\n      <pulse-loader :loading=\"loading\"></pulse-loader>\n      <button class=\"button\" :disabled=\"loading\" type=\"button\" @click=\"makeUser\">Register</button>\n    </div>\n    <div v-if=\"login\" class=\"login flex wrap justify-center\">\n      <h2>Login</h2>\n      <p>\n        <a href=\"#\" @click=\"showRegister\">Register instead?</a>\n      </p>\n      <input type=\"text\" v-model=\"email\" placeholder=\"Email\">\n      <input @keyup.enter=\"validateUser\" type=\"password\" v-model=\"password\" placeholder=\"Password\">\n      <pulse-loader :loading=\"loading\"></pulse-loader>\n      <p v-if=\"warn\" class=\"warn\">{{ warn_message }}</p>\n      <button class=\"button\" :disabled=\"loading\" type=\"button\" @click=\"validateUser\">Login</button>\n    </div>\n    <div v-if=\"created\" class=\"created\">\n      <h1>Welcome {{ name }}!</h1>\n      <h2>Your user has been created.</h2>\n      <button class=\"button\" type=\"button\" @click=\"$router.push('/')\">Go to Dashboard</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PostService from '../PostService'\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\n\nexport default {\n  data() {\n    return {\n      loading: false,\n      warn: false,\n      warn2: false,\n      warn_message: '',\n      selector: true,\n      register: false,\n      login: false,\n      created: false,\n      email: '',\n      name: '',\n      password: ''\n    }\n  },\n  methods: {\n    showRegister: function() {\n      this.selector = false;\n      this.register = true;\n      this.login = false;\n    },\n    showLogin: function() {\n      this.selector = false;\n      this.login = true;\n      this.register = false;\n    },\n    makeUser: async function() {\n      if (this.email && this.name && this.password) {\n        this.loading = true\n        this.warn = false; this.warn2 = false\n        // Check if user exists\n        let checkuser = await PostService.checkUser(this.email)\n        if (checkuser === 202) {\n          this.loading = false\n          this.warn = false\n          this.warn2 = true \n          return false\n        } else if (checkuser === 204) {\n          // If user doesn't exist, create it\n          let newUser = await PostService.makeUser({email: this.email, name: this.name, password: this.password})\n          if (newUser) {\n            // Once user is created, load it's info (including the new ID)\n            let user = await PostService.validateUser({email: this.email, password: this.password})\n            console.log('User created')\n            localStorage.setItem(\"user\", JSON.stringify({ ...user[0], token: user[0]._id}))\n            this.$store.dispatch('setUser', { ...user[0], token: user[0]._id})\n            this.register = false; this.created = true\n            this.loading = false\n            this.warn = false;  this.warn2 = false;\n            return true\n          } else {\n            console.log('user not created')\n            return false\n          }\n        } \n      } else {\n        this.warn = true\n        this.warn_message = 'Please complete all fields.'\n      }\n    },\n    validateUser: async function() {\n      if (this.email && this.password) {\n        this.loading = true\n        this.warn = false\n        let user = await PostService.validateUser({email: this.email, password: this.password})\n        if (user.length) {\n          localStorage.setItem(\"user\", JSON.stringify({ ...user[0], token: user[0]._id}))\n          this.$store.dispatch('setUser', { ...user[0], token: user[0]._id})\n          if (user[0].habits !== undefined) { this.$store.dispatch('setBadges', user[0].habits) }\n          this.$router.push('/')\n        } else {\n          this.warn = true; this.loading = false\n          this.warn_message = 'Email and password are not valid.'\n        }\n      } else {\n        this.warn = true\n        this.warn_message = 'Please complete all fields.'\n      }\n    }\n  },\n  components: { PulseLoader },\n  mounted() { this.$store.dispatch(\"centerLogo\", true) },\n  beforeUnmount() { this.$store.dispatch(\"centerLogo\", false) }\n}\n</script>\n\n<style scoped lang=\"scss\">\nh1, p { margin-bottom: 2rem; width: 100%; }\n\n.container {\n\tmargin-top: 6rem;\n}\n\n.created {\n\tmargin-top: 4rem;\n  button { margin: 1rem; max-width: 25rem; }\n\tp { text-align: center; }\n}\n\n.selector, .created {\n\tmax-width: 700px; margin: auto; text-align: center;\n  button { margin: 1rem; max-width: calc(50% - 2rem); }\n}\n\n.login, .register { \n  flex-direction: column; align-items: center; text-align: center;\n  width: 100%; max-width: 35rem; margin: auto;\n  button { max-width: 100%; width: 100%; }\n}\nsmall { color: orange; }\n\nbutton[disabled=disabled] { background: $ellis; }\n\n\n</style>","import { render } from \"./Login.vue?vue&type=template&id=53b0142e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=53b0142e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-53b0142e\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=53b0142e&scoped=true&lang=scss\""],"sourceRoot":""}